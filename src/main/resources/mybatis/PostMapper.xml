<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.mapper.PostMapper">
    <select id="selectAll" resultType="Post">
        SELECT project_id       as projectId
            , title             as title
            , member_id         as memberId
            , marketing         as marketing
            , plan              as plan
            , design            as design
            , front             as front
            , server            as server
            , process           as process
            , rdate             as rdate
            , img               as img
        FROM Post
    </select>
    <select id="findHashTagList" resultType="String">
        SELECT hashtag
        FROM hashtag a, post_skilltag b
        WHERE a.hashtag_id = b.hashtag_id
        AND b.project_id = #{project_id}
    </select>
    <select id="select" parameterType="int" resultType="Post">
        SELECT *
        FROM Post
        Where project_id = #{projectid}
    </select>
    <insert id="insert" parameterType="Post">
        INSERT INTO Post (project_id, title, content, member_id, marketing, plan, design, front, server, ref_link, process, rdate, image)
        VALUES (postSeq.NEXTVAL, #{title}, #{content}, #{memberId}, #{marketing}, #{plan}, #{design}, #{front}, #{server}, null, 0, sysdate, null)
    </insert>
    <update id="update" parameterType="Post">
        UPDATE Post
        SET
        title = #{title},
        member_id = #{memberId},
        marketing = #{marketing},
        plan = #{plan},
        design = #{design},
        front = #{front},
        server = #{server},
        ref_link = #{refLink},
        process = #{process},
        img = #{img}
        WHERE
        project_id = #{projectId}
    </update>
</mapper>